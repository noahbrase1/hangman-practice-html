<!DOCTYPE html>
<html>
    <head>
        <title>Hangman</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div class="gallow-wrap">
            <div class="gallow">
              <div class="box1"></div>
              <div class="box2"></div>
              <div class="box3"></div>
              <div class="box4"></div>
              <div class="person">
                    <div class="head" id="head"></div>
                    <div class="body" id="body"></div>
                    <div class="arms" id="arms"></div>
                    <div class="leg1" id="leg1"></div>
                    <div class="leg2" id="leg2"></div>
                </div>
                <div class="letters">
                    <div class="a" id="a" onclick="guess('A','a')">A</div>
                    <div class="b" id="b" onclick="guess('B','b')">B</div>
                    <div class="c" id="c" onclick="guess('C','c')">C</div>
                    <div class="d" id="d" onclick="guess('D','d')">D</div>
                    <div class="e" id="e" onclick="guess('E','e')">E</div>
                    <div class="f" id="f" onclick="guess('F','f')">F</div>
                    <div class="g" id="g" onclick="guess('G','g')">G</div>
                    <div class="h" id="h" onclick="guess('H','h')">H</div>
                    <div class="i" id="i" onclick="guess('I','i')">I</div>
                    <div class="j" id="j" onclick="guess('J','j')">J</div>
                    <div class="k" id="k" onclick="guess('K','k')">K</div>
                    <div class="l" id="l" onclick="guess('L','l')">L</div>
                    <div class="m" id="m" onclick="guess('M','m')">M</div>
                    <div class="n" id="n" onclick="guess('N','n')">N</div>
                    <div class="o" id="o" onclick="guess('O','o')">O</div>
                    <div class="p" id="p" onclick="guess('P','p')">P</div>
                    <div class="q" id="q" onclick="guess('Q','q')">Q</div>
                    <div class="r" id="r" onclick="guess('R','r')">R</div>
                    <div class="s" id="s" onclick="guess('S','s')">S</div>
                    <div class="t" id="t" onclick="guess('T','t')">T</div>
                    <div class="u" id="u" onclick="guess('U','u')">U</div>
                    <div class="v" id="v" onclick="guess('V','v')">V</div>
                    <div class="w" id="w" onclick="guess('W','w')">W</div>
                    <div class="x" id="x" onclick="guess('X','x')">X</div>
                    <div class="y" id="y" onclick="guess('Y','y')">Y</div>
                    <div class="z" id="z" onclick="guess('Z','z')">Z</div>
                </div>
            </div>
        </div>


        <div class="spaces">
            <div class="space1" id="s1"></div>
            <div class="space2" id="s2"></div>
            <div class="space3" id="s3"></div>
            <div class="space4" id="s4"></div>
            <div class="space5" id="s5"></div>
            <div class="space6" id="s6"></div>
            <div class="space7" id="s7"></div>
            <div class="space8" id="s8"></div>
            <div class="space9" id="s9"></div>
            <div class="space10" id="s10"></div>
        </div>

        <div class="locations">
            <div id="location1"></div>
            <div id="location2"></div>
            <div id="location3"></div>
            <div id="location4"></div>
            <div id="location5"></div>
            <div id="location6"></div>
            <div id="location7"></div>
            <div id="location8"></div>
            <div id="location9"></div>
            <div id="location10"></div>

        </div>

        <button id="reset" onclick="reset()">Start</button>
    </body>
    <style>
        .gallow-wrap {
            /* This keeps the gallows centered horizontally, and gives some breathing room */
            display: flex;
            justify-content: center;
            align-items: flex-start;
            width: 100vw;
            min-height: 100px;
            /* Add some vertical margin if needed */
            margin: 3vh 0;
        }

        /* Make the gallow a positioning context, and scale to screen width */
        .gallow {
            position: relative;
            width: min(60vw, 270px);   /* Clamp maximum for desktop, shrink on mobile */
            height: min(60vw, 330px);
        }

        .box1 {
            position: absolute;
            top: 0;
            left: 20%;
            width: 60%;
            height: 4%;
            background: black;
            border-radius: 3px;

        }

        /* Upright pole */
        .box2 {
            position: absolute;
            top: 0;
            left: 78%;
            width: 4%;
            height: 100%;
            background: black;
            border-radius: 3px;
        }

            /* Bottom base */
        .box3 {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5%;
            background: black;
            border-radius: 3px;
        }

            /* Hanging stub */
        .box4 {
            position: absolute;
            top: 3%;
            left: 20%;
            width: 4%;
            height: 14%;
            background: black;
            border-radius: 2px;
        }

        .person .head {
            position: absolute;
            top: 17%;
            left: 13%;
            width: 18%;
            height: 18%;
            border: 4px solid black;
            border-radius: 50%;
            background: white;
            display: block;
            box-sizing: border-box;
            /* for demo */
            z-index: 10;
            display: none;
        }

        .person .body {
            position: absolute;
            top: 34%;
            left: 21%;
            width: 2%;
            height: 23%;
            border: 2px solid black;
            background: black;
            display: block;
            box-sizing: border-box;
            display: none;
        }

        .person .arms {
            position: absolute;
            top: 42%;
            left: 14%;
            width: 16%;
            height: 2%;
            border: 2px solid black;
            background: black;
            display: block;
            box-sizing: border-box;
            display: none;
        }

        .person .leg1 {
            position: absolute;
            top: 55%;
            left: 15%;
            width: 2%;
            height: 15%;
            border: 2px solid black;
            background: black;
            display: block;
            box-sizing: border-box;
            transform: rotate(40deg);
            display: none;
        }

        .person .leg2 {
            position: absolute;
            top: 55%;
            left: 26.5%;
            width: 2%;
            height: 15%;
            border: 2px solid black;
            background: black;
            display: block;
            box-sizing: border-box;
            transform: rotate(-40deg);
            display: none;
        }

        .letters {
            display: grid;
            grid-template-columns: repeat(13, 1fr);
            grid-template-rows: repeat(2, auto);
            gap: 14px;
            width: 100%;
            max-width: 600px;
            margin: 32px auto 0 auto;
            justify-items: center;
            align-items: center;
            padding: 12px 0;
            margin-top: 400px;  /* space below gallows */
            margin-left: -180px; /* move further to left (increase as desired) */
        }

        .letters div {
           font-size: 32px;
           width: 40px;
           height: 40px;
           text-align: center;
           line-height: 40px;
           background-color: #f0f0f0;
           border-radius: 5px;
           cursor: pointer;
           transition: background-color 0.2s ease;
       }


       .letters div:hover {
           background-color: #ddd;
       }

    </style>

    <script>


        let guessCount = 0;
        let shutDown = 0;
        let finish = [];
        function guess(x, iD) {
            const head = document.getElementById("head");
            const body = document.getElementById("body");
            const arms = document.getElementById("arms");
            const leg1 = document.getElementById("leg1");
            const leg2 = document.getElementById("leg2");
            const button = document.getElementById("guess");

            let letters = newWord.split('');
            window.locations = ["location1", "location2", "location3", "location4", "location5", "location6", "location7", "location8", "location9", "location10"];
            if (shutDown === 0) {
                for (let i = 0; i < letters.length; i++) {
                    if (x === letters[i]) {
                        document.getElementById(locations[i]).innerHTML = x;
                        document.getElementById(locations[i]).style.fontSize = "32px";
                        document.getElementById(locations[i]).style.color = "black";
                        document.getElementById(iD).style.color = "green";
                        finish[i] = x;
                    }

                    else if (i === (letters.length - 1) && document.getElementById("location1").innerHTML !== x && document.getElementById("location2").innerHTML !== x && document.getElementById("location3").innerHTML !== x && document.getElementById("location4").innerHTML !== x && document.getElementById("location5").innerHTML !== x && document.getElementById("location6").innerHTML !== x && document.getElementById("location7").innerHTML !== x && document.getElementById("location8").innerHTML !== x && document.getElementById("location9").innerHTML !== x && document.getElementById("location10").innerHTML !== x) {
                    guessCount++;
                    document.getElementById(iD).style.color = "red";
                        if (guessCount === 1) {
                            head.style.display = "block";
                        } else if (guessCount === 2) {
                            body.style.display = "block";
                        } else if (guessCount === 3) {
                            arms.style.display = "block";
                        } else if (guessCount === 4) {
                            leg1.style.display = "block";
                        } else if (guessCount === 5) {
                            leg2.style.display = "block";
                            shutDown = 1;
                            for (let m = 0; m < letters.length; m++){
                                document.getElementById(locations[m]).innerHTML = letters[m];
                                document.getElementById(locations[m]).style.fontSize = "32px";
                                document.getElementById(locations[m]).style.color = "red";

                            }

                        }

                    }

                }
                if (isWordComplete(finish, letters)) {
                    shutDown = 1;
                    for (let p = 0; p < letters.length; p++){
                        document.getElementById(locations[p]).innerHTML = letters[p];
                        document.getElementById(locations[p]).style.fontSize = "32px";
                        document.getElementById(locations[p]).style.color = "green";

                    }
                    // Optionally show win message
                }
            }
        }

        function reset() {
            // Hide hangman parts
            document.getElementById('reset').innerHTML = "Reset"
            document.getElementById("head").style.display = "none";
            document.getElementById("body").style.display = "none";
            document.getElementById("arms").style.display = "none";
            document.getElementById("leg1").style.display = "none";
            document.getElementById("leg2").style.display = "none";
            window.locations = ["location1", "location2", "location3", "location4", "location5", "location6", "location7", "location8", "location9", "location10"];
            shutDown = 0;
            finish = [];
            const keys = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z']
            for (let l = 0; l < locations.length; l++) {
                document.getElementById(locations[l]).innerHTML = '';
            }
            guessCount = 0;
            const words = ["APPLE", "BANANA", "CHERRY", "DATE", "COW", "FIG", "GRAPE", "TABLESPOON", "ABSOLUTELY",
                "REASONABLE", "APPEARANCE", "CODE", "COMPUTER", "RUN", "CAT", "OUTERSPACE", "DRAIN", "CAR", "RUNNER",
                "HAPPY", "PLANT"
            ];
            const spaces = [document.getElementById("s1"), document.getElementById("s2"), document.getElementById("s3"), document.getElementById("s4"), document.getElementById("s5"), document.getElementById("s6"), document.getElementById("s7"), document.getElementById("s8"), document.getElementById("s9"), document.getElementById("s10")];
            // Hide all spaces
            for (let j = 0; j < spaces.length; j++) {
                spaces[j].style.display = "none";
            }

            // Pick a new word globally!
            window.newWord = words[Math.floor(Math.random() * words.length)];


            // Show correct number of spaces for new word
            for (let k = 0; k < newWord.length; k++) {
                spaces[k].style.display = "block";
            }

            for (n = 0; n < keys.length; n++) {
                document.getElementById(keys[n]).style.color = "black";
            }
        }

        function isWordComplete(finish, letters) {
            for (let i = 0; i < letters.length; i++) {
                if (finish[i] !== letters[i]) {
                    return false;
                }
            }
                return true;
        }
    </script>

</html>
